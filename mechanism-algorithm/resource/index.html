
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://tronprotocol.github.io/documentation-en/mechanism-algorithm/resource/">
      
      
        <link rel="prev" href="../account/">
      
      
        <link rel="next" href="../../contracts/contract/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.8">
    
    
      
        <title>Resource Model - java-tron</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#resource-model" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="java-tron" class="md-header__button md-logo" aria-label="java-tron" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            java-tron
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Resource Model
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/tronprotocol/documentation-en" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="java-tron" class="md-nav__button md-logo" aria-label="java-tron" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    java-tron
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/tronprotocol/documentation-en" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Getting Started With java-tron
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started With java-tron
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/getting_started_with_javatron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Using java-tron
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Using java-tron
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/installing_javatron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploying
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/backup_restore/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backup and Restore
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/litefullnode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lite FullNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/private_network/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Private Network
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/event/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event Subscription
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/connecting_to_tron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network Connection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/toolkit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node Maintenance Tool
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/http/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTP API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gRPC API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/json-rpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsonRPC API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Core Protocol
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Core Protocol
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dpos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DPoS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Super Representative
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../account/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Account Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Resource Model
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Resource Model
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item ">
  <a href="#introduction" class="md-nav__link" >
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item ">
  <a href="#voting-right" class="md-nav__link" >
    <span class="md-ellipsis">
      Voting Right
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item has-children">
  <a href="#bandwidth-points" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      Bandwidth Points
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bandwidth Points" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#1-how-to-get-bandwidth-points" class="md-nav__link" >
    <span class="md-ellipsis">
      1. How to Get Bandwidth Points
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#2-bandwidth-points-consumption" class="md-nav__link" >
    <span class="md-ellipsis">
      2. Bandwidth Points Consumption
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#3-bandwidth-points-recovery" class="md-nav__link" >
    <span class="md-ellipsis">
      3. Bandwidth Points Recovery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#4-account-bandwidth-balance-query" class="md-nav__link" >
    <span class="md-ellipsis">
      4. Account Bandwidth Balance Query
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item has-children">
  <a href="#energy" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      Energy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Energy" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#1-how-to-get-energy" class="md-nav__link" >
    <span class="md-ellipsis">
      1. How to Get Energy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#2-how-to-set-fee-limit-caller-must-read" class="md-nav__link" >
    <span class="md-ellipsis">
      2. How to Set Fee Limit (Caller Must Read)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#3-energy-calculation-developer-must-read" class="md-nav__link" >
    <span class="md-ellipsis">
      3. Energy Calculation (Developer Must Read)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item has-children">
  <a href="#dynamic-energy-model" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      Dynamic Energy Model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dynamic Energy Model" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#principle" class="md-nav__link" >
    <span class="md-ellipsis">
      Principle
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item has-children">
  <a href="#staking-on-tron-network" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      Staking on TRON network
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Staking on TRON network" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#how-to-stake-to-obtain-system-resources" class="md-nav__link" >
    <span class="md-ellipsis">
      How to stake to obtain system resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#how-to-delegate-resources" class="md-nav__link" >
    <span class="md-ellipsis">
      How to delegate resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#how-to-unstake-trx" class="md-nav__link" >
    <span class="md-ellipsis">
      How to unstake TRX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#how-to-cancel-unstaking" class="md-nav__link" >
    <span class="md-ellipsis">
      How to cancel unstaking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#api" class="md-nav__link" >
    <span class="md-ellipsis">
      API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contracts/contract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Smart Contract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../system-contracts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Contract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decentralized Exchange
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../multi-signatures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Account Permission Management
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    For java-tron Developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            For java-tron Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/java-tron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TIPs Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/issue-workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Issue Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/governance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Governance Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/run-in-idea/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure the IDE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/demo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/code-structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core Modules
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    For Dapp Developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            For Dapp Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contracts/tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Clients
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Clients
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clients/wallet-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    wallet-cli
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Releases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Releases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/upgrade-instruction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment Manual for the New Version
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/signature_verification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrity Check
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    History
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Appendix
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Appendix
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="resource-model">Resource Model<a class="headerlink" href="#resource-model" title="Permanent link">&para;</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>Voting Right, bandwidth and energy are important system resources of the TRON network. Among them, voting rights are used to vote for super representatives; Bandwidth is the unit that measures the size of the transaction bytes stored in the blockchain database. The larger the transaction, the more bandwidth resources will be consumed. Energy is the unit that measures the amount of computation required by the TRON virtual machine to perform specific operations on the TRON network. Since smart contract transactions require computing resources to execute, each smart contract transaction requires to pay for the energy fee.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>Ordinary transaction only consumes Bandwidth points</li>
<li>Smart contract related transaction not only consumes Bandwidth points, but also Energy</li>
</ul>
</div>
<h2 id="voting-right">Voting Right<a class="headerlink" href="#voting-right" title="Permanent link">&para;</a></h2>
<p>Before any account can vote for super representatives, it needs to obtain voting rights, that is, TRON Power (TP). Voting rights can be obtained by staking TRX. In addition to obtaining bandwidth or energy, staking TRX will also obtain voting rights at the same time. Voters who stake 1TRX will receive 1TP. For how to stake, please refer to the <a href="#staking-on-tron-network">Staking on TRON Network</a> chapter.</p>
<p>Voters can stake multiple times, and the voting rights obtained by multiple stake will be added to the voter's account. Voters can query the total number of voting rights owned by the account and the number of used voting rights through the <code>wallet/getaccountresource</code> interface.</p>
<h2 id="bandwidth-points">Bandwidth Points<a class="headerlink" href="#bandwidth-points" title="Permanent link">&para;</a></h2>
<p>The transaction information is stored and transmitted in the form of byte array, Bandwidth Points consumed = the number of bytes of the transaction * Bandwidth Points rate. Currently Bandwidth Points rate = 1.</p>
<p>Such as if the number of bytes of a transaction is 200, so this transaction consumes 200 Bandwidth Points.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Due to the change of the total amount of the staked TRX in the network and the self-staked TRX amount, the Bandwidth Points an account possesses is not fixed.</p>
</div>
<h3 id="1-how-to-get-bandwidth-points">1. How to Get Bandwidth Points<a class="headerlink" href="#1-how-to-get-bandwidth-points" title="Permanent link">&para;</a></h3>
<ol>
<li>The Bandwidth Points obtained by staking TRX = (the TRX staked to obtain Bandwidth Points / the total TRX staked by the entire network to obtain Bandwidth Points) * (the upper limit of Bandwidth Points). That is, all users equally divide the fixed quota of Bandwidth Points (the upper limit of Bandwidth Points) according to the number of TRX staked. The upper limit of Bandwidth Points is the <a href="https://tronscan.io/#/sr/committee">#62</a> network parameter which can be modified through a proposal, the current value is 43,200,000,000.</li>
<li>Every account has a fixed amount of free Bandwidth Points every day. The fixed amount of free Bandwidth Points is the <a href="https://tronscan.io/#/sr/committee">#61</a> network parameter which can be modified through a proposal, the current value is 600. </li>
</ol>
<h3 id="2-bandwidth-points-consumption">2. Bandwidth Points Consumption<a class="headerlink" href="#2-bandwidth-points-consumption" title="Permanent link">&para;</a></h3>
<p>Except for query operation, any transaction consumes Bandwidth points.</p>
<p>Bandwidth points consumption sequence for TRC-10 transfer:</p>
<ol>
<li>
<p>Free Bandwidth points.</p>
</li>
<li>
<p>TRC-10 issuer's Bandwidth points(if possible.)</p>
</li>
<li>
<p>Bandwidth points TRX staking.</p>
</li>
<li>
<p>Bandwidth points obtained by TRX burning, the rate = the number of bytes of the transaction * 1,000 SUN;</p>
</li>
</ol>
<p>Bandwidth points consumption sequence for other transactions:</p>
<ol>
<li>
<p>Free Bandwidth points.</p>
</li>
<li>
<p>Bandwidth points TRX staking.</p>
</li>
<li>
<p>Bandwidth points obtained by TRX burning, the rate = the number of bytes of the transaction * 1,000 SUN;</p>
</li>
</ol>
<h3 id="3-bandwidth-points-recovery">3. Bandwidth Points Recovery<a class="headerlink" href="#3-bandwidth-points-recovery" title="Permanent link">&para;</a></h3>
<p>After the account's free bandwidth and the bandwidth obtained by staking TRX are consumed, they will gradually recover within 24 hours.</p>
<h3 id="4-account-bandwidth-balance-query">4. Account Bandwidth Balance Query<a class="headerlink" href="#4-account-bandwidth-balance-query" title="Permanent link">&para;</a></h3>
<p>First, call the node HTTP interface <a href="https://developers.tron.network/reference/getaccountresource"><code>wallet/getaccountresource</code></a> to obtain the current resource status of the account, and then calculate the bandwidth balance by the following formula:</p>
<div class="highlight"><pre><span></span><code>Free bandwidth balance = freeNetLimit - freeNetUsed

Bandwidth balance obtained by staking TRX = NetLimit - NetUsed
</code></pre></div>
<p>Note: If the result returned by the interface does not contain the parameters in the above formula, it means that the parameter value is 0.</p>
<h2 id="energy">Energy<a class="headerlink" href="#energy" title="Permanent link">&para;</a></h2>
<p>Each command of smart contract consume system resource while running, we use 'Energy' as the unit of the consumption of the resource.</p>
<h3 id="1-how-to-get-energy">1. How to Get Energy<a class="headerlink" href="#1-how-to-get-energy" title="Permanent link">&para;</a></h3>
<p>Stake TRX to get energy.</p>
<p>Example (Using wallet-cli):</p>
<div class="highlight"><pre><span></span><code>freezeBalanceV2 frozen_balance [ResourceCode:0 BANDWIDTH,1 ENERGY]
</code></pre></div>
<p>The Energy obtained by staking TRX = (the TRX staked for Energy / the total TRX staked by the entire network for Energy) * (the upper limit of Energy). That is, all users equally divide the fixed quota of Energy (the upper limit of Energy) according to the number of TRX staked. The upper limit of Energy is the <a href="https://tronscan.io/#/sr/committee">#19</a> network parameter which can be modified through a proposal, the current value is 180,000,000,000, corresponding to Proposal <a href="https://tronscan.io/#/proposal/97">#97</a>.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>If there are only two users, A stakes 2 TRX, B stakes 2 TRX
the energy they can get is:
A: 90,000,000,000
B: 90,000,000,000

when C stakes 1 TRX:
the energy they can get is:
A: 72,000,000,000
B: 72,000,000,000
C: 36,000,000,000
</code></pre></div>
<h4 id="energy-consumption">Energy Consumption<a class="headerlink" href="#energy-consumption" title="Permanent link">&para;</a></h4>
<p>When the contract is executed, Energy is calculated and deducted according to instruction one by one. The priority of account energy consumption is as follows:</p>
<ul>
<li>Energy obtained by staking TRX</li>
<li>Burn TRX</li>
</ul>
<p>First, the energy obtained by staking TRX will be consumed. If this part of energy is not enough, the account's TRX will continue to be burned to pay for the energy resources required for the transaction, according to the unit price of 0.0001 TRX per energy. </p>
<p>If the contract exits due to throwing a revert exception while execution, only the energy consumed by instructions that have already been executed will be deducted. But for abnormal contracts, such as contract execution timeout, or abnormal exit due to bug, the maximum available energy of this transaction will be deducted. You can limit the maximum energy cost of this transaction by setting the <code>fee_limit</code> parameter of the transaction.</p>
<h4 id="energy-recovery">Energy Recovery<a class="headerlink" href="#energy-recovery" title="Permanent link">&para;</a></h4>
<p>After the energy resource of the account is consumed, it will gradually recover within 24 hours.</p>
<h4 id="account-energy-balance-query">Account Energy Balance Query<a class="headerlink" href="#account-energy-balance-query" title="Permanent link">&para;</a></h4>
<p>First call the node HTTP interface <a href="https://developers.tron.network/reference/getaccountresource"><code>wallet/getaccountresource</code></a> to obtain the current resource status of the account, and then calculate the energy balance by the following formula:</p>
<div class="highlight"><pre><span></span><code>Energy Balance = EnergyLimit - EnergyUsed
</code></pre></div>
<p>Note: If the result returned by the interface does not contain the parameters in the above formula, it means that the parameter value is 0.</p>
<h3 id="2-how-to-set-fee-limit-caller-must-read">2. How to Set Fee Limit (Caller Must Read)<a class="headerlink" href="#2-how-to-set-fee-limit-caller-must-read" title="Permanent link">&para;</a></h3>
<hr />
<p><em>Within the scope of this section, the smart contract developer will be called "developer", the users or other contracts which call the smart contract will be called "caller"</em></p>
<p><em>The amount of energy consumed while call the contract can be converted to TRX or SUN, so within the scope of this section, when refer to the consumption of the resource, there's no strict difference between Energy, TRX and SUN, unless they are used as a number unit.</em></p>
<hr />
<p>Set a rational fee limit can guarantee the smart contract execution. And if the execution of the contract cost great energy, it will not consume too much energy from the caller. Before you set fee limit, you need to know several conception:</p>
<ol>
<li>The legal fee limit is a integer between 0 - 15*10^9, unit is SUN.</li>
<li>Different smart contracts consume different amount of energy due to their complexity. The same trigger in the same contract almost consumes the same amount of energy[^1], however, due to the dynamic energy model mechanism, for popular contracts, different energy may be required for execution at different times. For details, please refer to the <a href="#dynamic-energy-model">Dynamic Energy Model</a> Chapter. When the contract is triggered, the commands will be executed one by one and consume energy. If it reaches the fee limit, commands will fail to be executed, and energy is not refundable.</li>
<li>Currently fee limit only refers to the energy converted to SUN that will be consumed from the caller[^2]. The energy consumed by triggering contract also includes developer's share.</li>
<li>For a vicious contract, if it encounters execution timeout or bug crash, all it's energy will be consumed.</li>
<li>Developer may undertake a proportion of energy consumption(like 90%). But if the developer's energy is not enough for consumption, the rest of the energy consumption will be undertaken by caller completely. Within the fee limit range, if the caller does not have enough energy, then it will burn equivalent amount of TRX [^2].</li>
</ol>
<p>To encourage caller to trigger the contract, usually developer has enough energy.</p>
<h4 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h4>
<p>How to estimate the fee limit:</p>
<ul>
<li>Assume contract C's last execution consumes 18000 Energy, so estimate the energy consumption limit to be 20000 Energy.</li>
<li>When to burn TRX, since the unit price of energy is currently 100sun, 10 trx can be exchanged for 100,000 Energy.</li>
</ul>
<p>Assume developer undertake 90% energy consumption, and developer has enough energy.</p>
<p>Then the way to estimate the fee limit is:</p>
<ol>
<li>A = 20000 energy * 100sun = 2,000,000 sun = 2 trx</li>
<li>Developer undertakes 90% energy consumption, caller undertakes 10% energy consumption,</li>
</ol>
<p>So, the caller is suggested to set fee limit to 2,000,000 sun * 10% = 200,000 sun.</p>
<h3 id="3-energy-calculation-developer-must-read">3. Energy Calculation (Developer Must Read)<a class="headerlink" href="#3-energy-calculation-developer-must-read" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>In order to punish the vicious developer, for the abnormal contract, if the execution times out (more than 80ms) or quits due to bug (revert not included), the maximum available energy will be deducted. If the contract runs normally or revert, only the energy needed for the execution of the commands will be deducted.</p>
</li>
<li>
<p>Developer can set the proportion of the energy consumption it undertakes during the execution, this proportion can be changed later. If the developer's energy is not enough, it will consume the caller's energy.</p>
</li>
<li>
<p>Currently, the total energy available when trigger a contract is composed of caller fee limit and developer's share</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>If the developer is not sure about whether the contract is normal, do not set caller's energy consumption proportion to 0%, in case all developer's energy will be deducted due to vicious execution[^1].</li>
<li>We recommend to set caller's energy consumption proportion to 10% ~ 100%[^2].</li>
</ul>
</div>
<p><strong>Example 1</strong></p>
<p>A has an account with a balance of 90 TRX(90000000 SUN) and 10 TRX staked for 100000 energy.</p>
<p>Smart contract C set the caller energy consumption proportion to 100% which means the caller will pay for the energy consumption completely.</p>
<p>A triggers C, the fee limit set is 30000000 (unit SUN, 30 TRX)</p>
<p>So during this trigger the energy A can use is from two parts:</p>
<ul>
<li>A's energy by staking TRX;</li>
<li>The energy converted from the amount of TRX burning according to a fixed rate;</li>
</ul>
<p>If fee limit is greater than the energy obtained from staking TRX, then it will burn TRX to get energy. The fixed rate is: 1 Energy = 100 sun, fee limit still has (30 - 10) TRX = 20 TRX available, so the energy it can keep consuming is 20 TRX / 100 sun = 200000 energy.</p>
<p>Finally, in this call, the energy A can use is (100000 + 200000) = 300000 energy.</p>
<p>If contract executes successfully without any exception, the energy needed for the execution will be deducted. Generally, it is far more less than the amount of energy this trigger can use.</p>
<p>If Assert-style error come out, it will consume the whole number of energy set for fee limit.</p>
<p><strong>Example 2</strong></p>
<p>A has an account with a balance of 90 TRX(90000000 SUN) and 10 TRX staked for 100000 energy.</p>
<p>Smart contract C set the caller energy consumption proportion to 40% which means the developer will pay for the rest 60% energy consumption.</p>
<p>Developer D stakes 50 TRX to get 500000 energy.</p>
<p>A triggers C, the fee limit set is 200000000 (unit SUN, 200 TRX).</p>
<p>So during this trigger the energy A can use is from three parts:</p>
<ul>
<li>A's energy by staking TRX -- X;</li>
<li>
<p>The energy converted from the amount of TRX burning according to a fixed rate -- Y;</p>
<p>If fee limit is greater than the energy obtained from staking TRX, then it will burn TRX to get energy. The fixed rate is: 1 Energy = 100 sun, fee limit still has (200 - 10) TRX = 190 TRX available, but A only has 90 TRX left, so the energy it can keep consuming is 90 TRX / 100 sun = 900000 energy;</p>
</li>
<li>
<p>D's energy by staking TRX -- Z;</p>
</li>
</ul>
<p>There are two situation:
if (X + Y) / 40% &gt;= Z / 60%, the energy A can use is X + Y + Z
if (X + Y) / 40% &lt; Z / 60%, the energy A can use is (X + Y) / 40%</p>
<p>If contract executes successfully without any exception, the energy needed for the execution will be deducted. Generally, it is far more less than the amount of energy this trigger can use.</p>
<p>If Assert-style error comes out, it will consume the whole number of energy set for fee limit. </p>
<p>Note: when developer create a contract, do not set consume_user_resource_percent to 0, which means developer will undertake all the energy consumption. If Assert-style error comes out, it will consume all energy from the developer itself. To avoid unnecessary lost, 10 - 100 is recommended for consume_user_resource_percent.</p>
<h2 id="dynamic-energy-model">Dynamic Energy Model<a class="headerlink" href="#dynamic-energy-model" title="Permanent link">&para;</a></h2>
<p>The dynamic energy model is a resource balancing mechanism of the TRON network, which can dynamically adjust the energy consumption of each contract according to the resource occupancy of the contract, so as to make the allocation of energy resources on the chain more reasonable and prevent excessive concentration of network resources on a few popular contracts. For more details, please refer to <a href="https://coredevs.medium.com/introduction-to-dynamic-energy-model-31917419b61a">Introduction to Dynamic Energy Model</a>.</p>
<h3 id="principle">Principle<a class="headerlink" href="#principle" title="Permanent link">&para;</a></h3>
<p>If a contract uses too many resources in one <a href="https://developers.tron.network/docs/glossary#maintenance-time-interval">maintenance cycle</a>, then in the next maintenance cycle, a certain percentage of punitive consumption will be added, and users who send the same transaction to this contract will cost more energy than before. When the contract uses resources reasonably, the energy consumption generated by the user calling the contract will gradually return to normal. </p>
<p>Each contract has an <code>energy_factor</code> field, which indicates the increase ratio of the energy consumption of the smart contract transaction relative to the base energy consumption and the initial value is 0. When the <code>energy_factor</code> of the contract is 0, it means that the contract is using resources reasonably, and there will be no additional energy consumption for calling the contract. When the <code>energy_factor</code> is greater than 0, it means that the contract is already a popular contract, and additional energy will be consumed when calling the contract. The <code>energy_factor</code> of a contract can be queried through the <a href="https://developers.tron.network/reference/getcontractinfo">getcontractinfo</a> API.</p>
<p>The calculation formula for the final energy consumed by the contract invocation transaction is as follows:</p>
<div class="highlight"><pre><span></span><code>energy consumption by a contract invocation transaction  = the basic energy consumption generated by the transaction * （1 +  energy_factor）
</code></pre></div>
<p>The dynamic energy model introduces the following three parameters of the TRON network , which jointly control the <code>energy_factor</code> field of the contract:</p>
<ul>
<li><code>threshold</code>: The threshold of contract basic energy consumption. In a maintenance cycle, if the basic energy consumption of the contract exceeds this threshold, the energy consumption of the contract will increase at the next maintenance cycle.</li>
<li><code>increase_factor</code>: If the basic energy consumption of the contract exceeds the threshold during a certain maintenance cycle, the <code>energy_factor</code> will increase by a certain percentage according to the <code>increase_factor</code> in the next maintenance cycle.</li>
<li><code>max_factor</code>: the maximum value of energy_factor.</li>
</ul>
<p>There is also a variable <code>decrease_factor</code> used to reduce the <code>energy_factor</code> of the contract:</p>
<ul>
<li><code>decrease_factor</code>: 1/4 of <code>increase_factor</code>. After the basic energy consumption of the contract falls below the threshold, <code>energy_factor</code> will be reduced by a certain percentage according to <code>decrease_factor</code>.</li>
</ul>
<p>When the basic energy consumption of the contract exceeds <code>threshold</code> during a maintenance cycle, its <code>energy_factor</code> will increase in the next maintenance cycle, but the maximum will not be Exceeding <code>max_factor</code>, the calculation formula is:</p>
<div class="highlight"><pre><span></span><code>energy_factor = min((1 + energy_factor) * (1 + increaese_factor)-1, max_factor)
</code></pre></div>
<p>When the basic energy consumption of the contract drops below the threshold in a maintenance cycle, the <code>energy_factor</code> will decrease in the next maintenance cycle, but the minimum value will not be lower than 0. The calculation formula is as follows:</p>
<div class="highlight"><pre><span></span><code>energy_factor = max((1 + energy_factor) * (1 - decrease_factor)- 1, 0)
</code></pre></div>
<p>The dynamic energy model has been enabled on the main network, and the relevant parameters are set as follows:</p>
<ul>
<li><code>threshold</code>：5,000,000,000</li>
<li><code>increase_factor</code>：0.2</li>
<li><code>max_factor</code>：3.4</li>
</ul>
<p>Since the energy consumption of popular contracts is different in different maintenance cycles, it is necessary to set the appropriate feelimit parameter for the transaction when calling the contract.</p>
<h2 id="staking-on-tron-network">Staking on TRON network<a class="headerlink" href="#staking-on-tron-network" title="Permanent link">&para;</a></h2>
<h3 id="how-to-stake-to-obtain-system-resources">How to stake to obtain system resources<a class="headerlink" href="#how-to-stake-to-obtain-system-resources" title="Permanent link">&para;</a></h3>
<p>Energy and bandwidth resources are obtained by the account owner through staking, please use <code>wallet/freezebalancev2</code> to complete the stake operation through HTTP API, use <a href="https://developers.tron.network/docs/stake-20-solidity-api">Stake2.0 Solidity API</a> to complete the stake operation through the contract.</p>
<p>TRON allocates resources through the staking mechanism. In addition to obtaining bandwidth or energy resources, staking TRX will also obtain voting rights (TRON Power, TP for short) equal to the amount staked. Staking 1 TRX, you will get 1TP. The energy or bandwidth resources obtained by staking are used to pay transaction fees, and the obtained voting rights are used to vote for super representatives to obtain voting rewards.</p>
<p>The unstaking operation will release the corresponding resources.</p>
<h3 id="how-to-delegate-resources">How to delegate resources<a class="headerlink" href="#how-to-delegate-resources" title="Permanent link">&para;</a></h3>
<p>After the account obtains energy or bandwidth resources through staking, it can delegate resources to other addresses through <code>delegateresource</code>, and can also take back allocated resources through <code>undelegateresource</code>. Please pay attention to the following situations when delegating resource:</p>
<ul>
<li>Only energy and bandwidth can be delegated to other addresses, voting rights cannot be delegated</li>
<li>Only unused resources obtained by staking through Stake2.0 can be delegated to other addresses</li>
<li>Energy/Bandwidth can only be delegated to an activated external account address, not to a contract address</li>
</ul>
<p>You can use the <code>wallet/getcandelegatedmaxsize</code> interface to query the available delegation share of a certain resource type in the account. <code>Time lock</code> can be used when delegating resources. If time lock is used, after the resource delegating is completed, the resource delegation for the address only can be canceled after 3 days. During the locking period, if the user performs resource delegating for the same address again, it will Reset the 3-days waiting period. If the time lock is not used, the delegation can be canceled immediately after the resource is delegated.</p>
<h3 id="how-to-unstake-trx">How to unstake TRX<a class="headerlink" href="#how-to-unstake-trx" title="Permanent link">&para;</a></h3>
<p>After completing the TRX staking, you can unstake at any time. After unstaking, you need to wait for 14 days before you can withdraw the unstaked TRX into your account. 14 days is <a href="https://tronscan.org/#/sr/committee">the No.70 parameter</a> of TRON network which can be voted on by network governance proposals. Please use <code>unfreezebalancev2</code> to complete unfreeze balance through HTTP API.</p>
<p>The staked TRX can be partially unstaked multiple times, but only a maximum of 32 unstaking operations are allowed at the same time. That is to say, when a user initiates the first unstake operation, before the TRX of the first unstaking arrives and is ready to be withdrawn to his or her account, he or she can only initiate another 31 unstake operations. The remaining counts of unfreeze can be queried through the <code>getavailableunfreezecount</code> interface.</p>
<p>The TRX that have been delegated cannot be unstaked. In addition to losing the same amount of resource shares, the unstaking will also lose the same amount of TP resources.</p>
<p>When unstaking, if there is a previously unstaked principal that has passed the lock-up period, then this unstake operation will also withdraw the unstaked principal that has passed the lock-up period to the account at the same time. You can use the <code>gettransactioninfobyid</code>API to query the withdrawn amount of unstaked TRX that has expired the lock-up period in <code>withdraw_expire_amount</code> field.</p>
<h4 id="tron-power-reclaim">TRON Power Reclaim<a class="headerlink" href="#tron-power-reclaim" title="Permanent link">&para;</a></h4>
<p>After unstaking the TRX staked in the Stake2.0 stage, the same amount of voting rights will be lost. The system will first reclaim the idle voting rights in the account. If the idle TP is insufficient, it will continue to reclaim the used TP. If the user has voted for multiple super representatives, a certain number of votes will be withdrawn in proportion from each super representative, and the corresponding voting rights will be recovered. The calculation formula for withdrawing votes for each SR is,</p>
<div class="highlight"><pre><span></span><code>The number of votes withdrawn from the current super representative = total number of votes to be withdrawn  * (number of votes for the current super representative / total number of votes of this account)
</code></pre></div>
<p>For example, Suppose A staked 2,000TRX and obtained 2,000 TRON Power, of which 1,000 TRON Power voted for 2 super representatives, 600 votes and 400 votes respectively, and 1,000 TRON Power remained in the account. At this time, A unstakes 1,500TRX, which means that 1,500 TRON Power needs to be reclaimed from A’ account. In this case, the idle 1,000 TP in A’s account will be withdrawn first, and the spared 500 TP will be withdrawn from the voted TP,<br />
which is 300 TP and 200 TP respectively from the two super representatives. Here's how the votes are calculated:</p>
<ul>
<li>Number of votes withdrawn by Super Representative 1 = 500 * (600 / 1,000) = 300</li>
<li>Number of votes withdrawn by Super Representative 2 = 500 * (400 / 1,000) = 200</li>
</ul>
<p>At present, the TRON network uses the Stake2.0 stake mechanism, but the resources and votes obtained by Stake1.0 are still valid. The TRX staked at Stake1.0 can still be withdrawal through Stake1.0 API <code>unfreezebalance</code>, but it should be noted that if the TRX staked in Stake 1.0 is unstaked, all votes in the account will be revoked.</p>
<h3 id="how-to-cancel-unstaking">How to cancel unstaking<a class="headerlink" href="#how-to-cancel-unstaking" title="Permanent link">&para;</a></h3>
<p>Stake2.0 supports canceling all unstakes after the user unstakes TRX, which will make the assets be used for stake again to obtain corresponding resources, without having to wait for the unstaked funds to pass the lock-up period before withdrawing the funds to the account , and then stake them again. Please use <code>cancelallunfreezev2</code> to cancel all unstaking operations.</p>
<p>When canceling unstakings, all unstaked funds still in the waiting period will be re-staked, and the resource obtained through the re-staking remains the same as before. Unstakings that exceeded the 14-day waiting period cannot be canceled, and this part of the unstaked funds will be automatically withdrawn to the owner’s account. Users can query the canceled unstaked principal amount <code>cancel_unfreezeV2_amount</code>, and the withdrawn principal amount that has expired the lock-up period <code>withdraw_expire_amount</code> through the <code>gettransactioninfobyid</code> interface.</p>
<h3 id="api">API<a class="headerlink" href="#api" title="Permanent link">&para;</a></h3>
<p>The following table shows the relevant interfaces of the stake model and their descriptions:</p>
<table>
<thead>
<tr>
<th>API</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>freezebalancev2</td>
<td>Stake TRX</td>
</tr>
<tr>
<td>unfreezebalancev2</td>
<td>Unstake TRX</td>
</tr>
<tr>
<td>delegateresource</td>
<td>Delegate resources</td>
</tr>
<tr>
<td>undelegateresource</td>
<td>Undelegate resources</td>
</tr>
<tr>
<td>withdrawexpireunfreeze</td>
<td>Withdraw unfrozen balance</td>
</tr>
<tr>
<td>getavailableunfreezecount</td>
<td>Query the remaining times of executing unstake operation</td>
</tr>
<tr>
<td>getcanwithdrawunfreezeamount</td>
<td>Query the withdrawable balance</td>
</tr>
<tr>
<td>getcandelegatedmaxsize</td>
<td>Query the amount of delegatable resources share of the specified resource Type</td>
</tr>
<tr>
<td>getdelegatedresourcev2</td>
<td>Query the amount of resource delegated by fromAddress to toAddress</td>
</tr>
<tr>
<td>getdelegatedresourceaccountindexv2</td>
<td>Query the resource delegation index by an account</td>
</tr>
<tr>
<td>getaccount</td>
<td>Query the account stake status, resource share, unstake status, and voting status</td>
</tr>
<tr>
<td>getaccountresource</td>
<td>Query the total amount of resources, the amount of used, and the amount of available</td>
</tr>
<tr>
<td>cancelallunfreezev2</td>
<td>Cancel unstaking</td>
</tr>
</tbody>
</table>












		  <hr class="content-footer-divider">  <!-- 添加的水平线 -->
      	    	  <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../account/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Account Model">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Account Model
              </div>
            </div>
          </a>
        
        
          
          <a href="../../contracts/contract/" class="md-footer__link md-footer__link--next" aria-label="Next: Smart Contract">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Smart Contract
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <!--div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div-->
</footer>
                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.footer", "toc.integrate", "search.highlight", "search.suggest", "content.code.annotate", "content.tooltips"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../javascripts/toc.js"></script>
      
        <script src="../../javascripts/nav-toc.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>