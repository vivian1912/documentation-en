
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://tronprotocol.github.io/documentation-en/contracts/contract/">
      
      
        <link rel="prev" href="../../mechanism-algorithm/resource/">
      
      
        <link rel="next" href="../../mechanism-algorithm/system-contracts/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.8">
    
    
      
        <title>Smart Contract - java-tron</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#smart-contracts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="java-tron" class="md-header__button md-logo" aria-label="java-tron" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            java-tron
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Smart Contract
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/tronprotocol/documentation-en" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="java-tron" class="md-nav__button md-logo" aria-label="java-tron" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    java-tron
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/tronprotocol/documentation-en" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Getting Started With java-tron
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started With java-tron
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/getting_started_with_javatron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Using java-tron
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Using java-tron
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/installing_javatron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploying
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/backup_restore/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backup and Restore
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/litefullnode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lite FullNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/private_network/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Private Network
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/event/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event Subscription
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/connecting_to_tron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network Connection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/toolkit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node Maintenance Tool
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/http/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTP API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gRPC API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/json-rpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsonRPC API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Core Protocol
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Core Protocol
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/dpos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DPoS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/sr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Super Representative
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/account/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Account Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/resource/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Smart Contract
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Smart Contract
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item ">
  <a href="#overview" class="md-nav__link" >
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item has-children">
  <a href="#tron-smart-contract-features" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      TRON Smart Contract Features
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TRON Smart Contract Features" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#smart-contract-definition" class="md-nav__link" >
    <span class="md-ellipsis">
      Smart Contract Definition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#using-contract-functions" class="md-nav__link" >
    <span class="md-ellipsis">
      Using Contract Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item ">
  <a href="#tron-address-usage-in-solidity" class="md-nav__link" >
    <span class="md-ellipsis">
      TRON Address Usage in Solidity
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item ">
  <a href="#global-variables-and-units" class="md-nav__link" >
    <span class="md-ellipsis">
      Global Variables and Units
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/system-contracts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Contract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/dex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decentralized Exchange
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/multi-signatures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Account Permission Management
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    For java-tron Developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            For java-tron Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/java-tron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TIPs Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/issue-workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Issue Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/governance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Governance Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/run-in-idea/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure the IDE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/demo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/code-structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core Modules
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    For Dapp Developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            For Dapp Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Clients
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Clients
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clients/wallet-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    wallet-cli
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Releases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Releases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/upgrade-instruction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment Manual for the New Version
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/signature_verification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrity Check
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    History
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Appendix
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Appendix
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="smart-contracts">Smart Contracts<a class="headerlink" href="#smart-contracts" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>A smart contract is a computational protocol that automates the execution of contractual terms. It defines the conditions and penalties for participants, much like a traditional contract. Once triggered, it self-executes according to the predefined terms and automatically verifies compliance with its coded logic.</p>
<p>TRON is fully compatible with the Ethereum smart contract ecosystem and supports contracts written in the Solidity language. The development workflow is as follows:</p>
<ol>
<li>Write and compile a Solidity contract in a local or online IDE.</li>
<li>Deploy the contract to the TRON Mainnet.</li>
<li>Once deployed, the contract will be automatically executed on all nodes across the TRON network whenever it is triggered.</li>
</ol>
<p>You can find the latest version in the <a href="https://github.com/tronprotocol/solidity/releases">TRON Solidity repository</a>.</p>
<h2 id="tron-smart-contract-features">TRON Smart Contract Features<a class="headerlink" href="#tron-smart-contract-features" title="Permanent link">&para;</a></h2>
<p>The TRON Virtual Machine (TVM) is based on the Ethereum Solidity language. While it is compatible with the features of the Ethereum Virtual Machine (EVM), there are some differences that align with TRON's unique characteristics.</p>
<h3 id="smart-contract-definition">Smart Contract Definition<a class="headerlink" href="#smart-contract-definition" title="Permanent link">&para;</a></h3>
<p>Smart contracts running on the TVM are compatible with Ethereum's contract features. The TRON protocol uses <strong>Protocol Buffers</strong> to encapsulate and describe a smart contract, with its data structure defined as follows:</p>
<div class="highlight"><pre><span></span><code>message SmartContract {
  message ABI {
    message Entry {
      enum EntryType {
        UnknownEntryType = 0;
        Constructor = 1;
        Function = 2;
        Event = 3;
        Fallback = 4;
        Receive = 5;
        Error = 6;
      }
      message Param {
        bool indexed = 1;
        string name = 2;
        string type = 3;
      }
      enum StateMutabilityType {
        UnknownMutabilityType = 0;
        Pure = 1;
        View = 2;
        Nonpayable = 3;
        Payable = 4;
      }

      bool anonymous = 1;
      bool constant = 2;
      string name = 3;
      repeated Param inputs = 4;
      repeated Param outputs = 5;
      EntryType type = 6;
      bool payable = 7;
      StateMutabilityType stateMutability = 8;
    }
    repeated Entry entrys = 1;
  }
  bytes origin_address = 1;
  bytes contract_address = 2;
  ABI abi = 3;
  bytes bytecode = 4;
  int64 call_value = 5;
  int64 consume_user_resource_percent = 6;
  string name = 7;
  int64 origin_energy_limit = 8;
  bytes code_hash = 9;
  bytes trx_hash = 10;
}
</code></pre></div>
<p><strong>Field Descriptions:</strong></p>
<ul>
<li><code>origin_address</code>: The address of the contract creator.</li>
<li><code>contract_address</code>: The address of the contract.</li>
<li><code>abi</code>: The interface information for all functions within the contract.</li>
<li><code>bytecode</code>: The contract's bytecode.</li>
<li><code>call_value</code>: The amount of TRX (in sun) passed when calling the contract.</li>
<li><code>consume_user_resource_percent</code>: The percentage of resource consumption that the caller is responsible for, as set by the developer.</li>
<li><code>name</code>: The name of the contract.</li>
<li><code>origin_energy_limit</code>: The maximum Energy that the deployer will provide for a single transaction, as set by the developer. This value must be greater than 0. For older contracts deployed without this parameter, <code>origin_energy_limit</code> is stored as <code>0</code>, but the system still processes them with an Energy limit of 10 million. Developers can later set this value explicitly by calling the <code>updateEnergyLimit</code> interface, and the new value must be greater than 0.</li>
</ul>
<p>Developers can create and trigger smart contracts using the <code>CreateSmartContract</code> and <code>TriggerSmartContract</code> gRPC message types.</p>
<h3 id="using-contract-functions">Using Contract Functions<a class="headerlink" href="#using-contract-functions" title="Permanent link">&para;</a></h3>
<h4 id="constant-and-non-constant-functions">Constant and Non-Constant Functions<a class="headerlink" href="#constant-and-non-constant-functions" title="Permanent link">&para;</a></h4>
<p>Contract functions can be categorized into two types based on whether they modify the on-chain state:</p>
<ul>
<li><strong>Constant Functions</strong>: Functions decorated with <code>view</code>, <code>pure</code>, or <code>constant</code>. These calls are executed locally on the node and return a result directly without broadcasting a transaction.</li>
<li><strong>Non-Constant Functions</strong>: Functions that modify the on-chain state, such as performing a transfer or changing a contract's internal variables. These calls must be executed by submitting a transaction, which is then confirmed by network consensus.</li>
</ul>
<blockquote>
<p><strong>Note</strong>: If the <code>CREATE</code> instruction (for dynamically creating contracts) is used within a function, that function will be treated as non-constant and processed as a transaction, even if it is decorated with keywords like <code>view</code> or <code>pure</code>.</p>
</blockquote>
<h4 id="message-calls">Message Calls<a class="headerlink" href="#message-calls" title="Permanent link">&para;</a></h4>
<p>During contract execution, you can interact with other contracts or transfer TRX to any account (contract or non-contract) through message calls. Each message call includes attributes such as the sender, recipient, data, transfer amount, fees, and a return value. Message calls can also recursively generate new message calls.</p>
<p>When a contract initiates an internal message call, it can flexibly control the Energy allocation:</p>
<ul>
<li>Specify a maximum Energy limit for the call.</li>
<li>Reserve a portion of Energy for the subsequent execution of the current contract.</li>
</ul>
<p>Typically, the Energy limit for an internal call is set using the pattern <code>{gas: gasleft() - reserved_energy}</code>.</p>
<p>If an exception occurs during the call (e.g., <code>OutOfEnergyException</code>):</p>
<ul>
<li>The call will return <code>false</code> but will not throw an exception.</li>
<li>If an Energy limit was set for the call, it will consume at most the Energy allocated to it. If no limit was explicitly set, the call will consume all remaining Energy available to the executing contract.</li>
</ul>
<h4 id="delegate-call-code-call-and-libraries-delegatecallcallcodelibrary">Delegate Call / Code Call and Libraries (<code>delegatecall</code>/<code>callcode</code>/Library)<a class="headerlink" href="#delegate-call-code-call-and-libraries-delegatecallcallcodelibrary" title="Permanent link">&para;</a></h4>
<p>A <code>delegatecall</code> is a special type of message call. The key difference from a standard message call is that the code at the target address is executed in the <strong>context of the calling contract</strong>, and <code>msg.sender</code> and <code>msg.value</code> remain unchanged. This allows a contract to dynamically load code from an external address at runtime while ensuring its own storage, address, and balance point to the calling contract; only the code is fetched from the called address.</p>
<p>This mechanism enables Solidity to implement <strong>Libraries</strong>. Developers can deploy reusable code as separate library contracts and then execute this code within the context of calling contracts via <code>delegatecall</code>. A typical application is using libraries to implement complex data structures (like linked lists or sets), allowing multiple main contracts to share the same functional logic while avoiding code redundancy.</p>
<h4 id="create-instruction"><code>CREATE</code> Instruction<a class="headerlink" href="#create-instruction" title="Permanent link">&para;</a></h4>
<p>The <code>CREATE</code> instruction is used to dynamically create new contracts and generate new addresses by an existing contract. Unlike Ethereum, the TVM generates a new address based on a <strong>hash combination of the current smart contract's transaction ID and an internal call counter (<code>nonce</code>)</strong>. Here, <code>nonce</code> is defined as the <strong>creation sequence number under the root call</strong>. In a single contract execution, each use of the <code>CREATE</code> instruction generates an incrementing number: 1 for the first time, 2 for the second, and so on.</p>
<blockquote>
<p><strong>Note</strong>: Contracts created via the <code>CREATE</code> instruction do not automatically save their ABI. If you need to record the ABI, you should deploy the contract using the <code>deploycontract</code> gRPC interface.</p>
</blockquote>
<h4 id="tvm-built-in-functions">TVM Built-in Functions<a class="headerlink" href="#tvm-built-in-functions" title="Permanent link">&para;</a></h4>
<p>TRON smart contracts include various built-in functions to support common on-chain operations. The most frequent is <strong>transferring funds</strong>, which can occur in different scenarios, such as:</p>
<ul>
<li>Transferring TRX along with a transaction during the <code>constructor</code> execution.</li>
<li>Transferring funds during the execution of a contract function.</li>
<li>Using methods like <code>transfer</code>, <code>send</code>, <code>call</code>, <code>callcode</code>, and <code>delegatecall</code> to perform transfers.</li>
</ul>
<blockquote>
<p><strong>Note</strong>: In TRON smart contracts, if a destination address for a transfer has not yet been activated, it cannot be activated through a smart contract transfer. This behavior differs from both Ethereum's handling and the logic of TRON's system contracts.</p>
</blockquote>
<p>In addition to transfers, contracts can perform more complex on-chain operations, including:</p>
<ul>
<li>Voting for Super Representatives</li>
<li>Staking TRX</li>
<li>Delegating resources</li>
</ul>
<p>The TVM also maintains compatibility with most of Ethereum's built-in functions, allowing developers to quickly migrate and develop contracts based on their existing experience.</p>
<h2 id="tron-address-usage-in-solidity">TRON Address Usage in Solidity<a class="headerlink" href="#tron-address-usage-in-solidity" title="Permanent link">&para;</a></h2>
<p>Correctly handling addresses in Solidity is crucial for developing smart contracts on TRON. The core concept to understand is the difference in byte length between TRON and Ethereum addresses, and the internal handling the TRON Virtual Machine (TVM) performs to maintain compatibility with Solidity.</p>
<p><strong>Core Difference: 20 bytes vs. 21 bytes</strong></p>
<ul>
<li><strong>Ethereum Address</strong>: A 20-byte value (40 hexadecimal characters).</li>
<li><strong>TRON Address</strong>: A 21-byte value. It consists of a one-byte address prefix (usually <code>0x41</code>) followed by the 20-byte core address.</li>
</ul>
<p>When handling TRON addresses in Solidity, you must follow these guidelines.</p>
<h4 id="address-conversion">Address Conversion<a class="headerlink" href="#address-conversion" title="Permanent link">&para;</a></h4>
<p>When you need to pass a TRON address into a contract, the recommended practice is to pass it as a <code>uint256</code> integer and then cast it to the <code>address</code> type inside the contract.</p>
<div class="highlight"><pre><span></span><code>/**
 * @dev Converts a TRON address in uint256 format to Solidity&#39;s address type.
 * @param tronAddress The TRON address in uint256 format, starting with 0x followed by the HexString.
 * @return address The Solidity address type.
 */
function convertFromTronInt(uint256 tronAddress) public view returns(address) {
    return address(tronAddress);
}
</code></pre></div>
<p>This syntax is identical to casting other types to <code>address</code> in Ethereum.</p>
<h4 id="address-comparison">Address Comparison<a class="headerlink" href="#address-comparison" title="Permanent link">&para;</a></h4>
<p>When comparing an address to a literal constant in Solidity, you must use the 20-byte format; otherwise, it will result in a compiler error. The TVM automatically handles the <code>0x41</code> prefix during execution. For example:</p>
<div class="highlight"><pre><span></span><code>function compareAddress(address tronAddress) public view returns (uint256) {
    // Incorrect: Including the 0x41 prefix will cause a compiler error.
    // if (tronAddress == 0x41ca35b7d915458ef540ade6068dfe2f44e8fa733c) { ... }

    // Correct: Use the 20-byte address format.
    if (tronAddress == 0xca35b7d915458ef540ade6068dfe2f44e8fa733c) {
        return 1;
    } else {
        return 0;
    }
}
</code></pre></div>
<blockquote>
<p><strong>Note</strong>: Although the constant in the code is 20 bytes, the TVM can still perform the comparison correctly if a full 21-byte TRON address is passed in for the <code>tronAddress</code> parameter from an external source (like <code>wallet-cli</code>). The function will still correctly return <code>1</code>.</p>
</blockquote>
<h4 id="address-assignment">Address Assignment<a class="headerlink" href="#address-assignment" title="Permanent link">&para;</a></h4>
<p>Similar to address comparison, when assigning a literal constant to a variable of type <code>address</code>, you must also omit the <code>0x41</code> prefix and use the 20-byte format. For example:</p>
<div class="highlight"><pre><span></span><code>function assignAddress() public pure {
    // Incorrect: Including the 0x41 prefix will cause a compiler error.
    // address newAddress = 0x41ca35b7d915458ef540ade6068dfe2f44e8fa733c;

    // Correct:
    address newAddress = 0xca35b7d915458ef540ade6068dfe2f44e8fa733c;
    // ... subsequent operations
}
</code></pre></div>
<blockquote>
<p><strong>Notes</strong>:</p>
<ul>
<li>When the <code>newAddress</code> variable is used for on-chain operations like transfers, the TVM will automatically prepend the <code>0x41</code> prefix to form a valid TRON address.</li>
<li>Base58 formatted addresses like <code>TLLM21wteSPs4hKjbxgmH1L6poyMjeTbHm</code> are string addresses used by wallets and clients. They cannot be used directly in Solidity code and must first be decoded into a hexadecimal format (HexString).</li>
</ul>
</blockquote>
<h2 id="global-variables-and-units">Global Variables and Units<a class="headerlink" href="#global-variables-and-units" title="Permanent link">&para;</a></h2>
<p>In Solidity smart contracts, a series of global variables can be used to access information about the blockchain, transactions, and calls.</p>
<h4 id="currency-units">Currency Units<a class="headerlink" href="#currency-units" title="Permanent link">&para;</a></h4>
<p>Similar to Solidity's support for <code>ether</code>, the TVM natively supports two currency units: <code>trx</code> and <code>sun</code>, with the conversion rate of <code>1 trx = 1,000,000 sun</code>. Both units are lowercase and case-sensitive.</p>
<ul>
<li>We recommend using <strong>TronIDE</strong> or <strong>TronBox</strong> for TRON smart contract development, as both tools fully support the <code>trx</code> and <code>sun</code> units.</li>
</ul>
<h4 id="block-and-transaction-related-global-variables">Block and Transaction-Related Global Variables<a class="headerlink" href="#block-and-transaction-related-global-variables" title="Permanent link">&para;</a></h4>
<p>The following are commonly used global variables and functions in TRON smart contracts. The behavior of some of these variables differs from Ethereum.</p>
<p><strong>Block Information</strong></p>
<ul>
<li><code>block.blockhash(uint blockNumber) returns (bytes32)</code>: Returns the hash of the specified block. Only works for the 256 most recent blocks (not including the current block).</li>
<li><code>block.coinbase (address)</code>: The address of the Super Representative that produced the current block.</li>
<li><code>block.number (uint)</code>: The current block height (i.e., block number).</li>
<li><code>block.timestamp (uint)</code>: The current block's timestamp (in seconds).</li>
<li><code>now (uint)</code>: The current block's timestamp, equivalent to <code>block.timestamp</code>.</li>
</ul>
<p><strong>Call and Transaction Information</strong></p>
<ul>
<li><code>msg.data (bytes)</code>: The complete calldata.</li>
<li><code>msg.sender (address)</code>: The sender of the message (the immediate caller).</li>
<li><code>msg.sig (bytes4)</code>: The first 4 bytes of the calldata, which is the function identifier.</li>
<li><code>msg.value (uint)</code>: The amount of <code>sun</code> sent with the message.</li>
<li><code>tx.origin (address)</code>: The original initiator of the transaction.</li>
</ul>
<p><strong>Gas and Special Variables</strong></p>
<ul>
<li><code>gasleft() returns (uint256)</code>: The remaining gas.</li>
<li><code>block.difficulty (uint)</code>: The difficulty of the current block. On the TRON network, this value is always 0 and its use is not recommended.</li>
<li><code>block.gaslimit (uint)</code>: The gas limit of the current block. This is not supported on the TRON network and is temporarily set to 0.</li>
<li><code>tx.gasprice (uint)</code>: The gas price of the transaction. On the TRON network, this value is always 0 and its use is not recommended.</li>
</ul>












		  <hr class="content-footer-divider">  <!-- 添加的水平线 -->
      	    	  <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../mechanism-algorithm/resource/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Resource Model">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Resource Model
              </div>
            </div>
          </a>
        
        
          
          <a href="../../mechanism-algorithm/system-contracts/" class="md-footer__link md-footer__link--next" aria-label="Next: System Contract">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                System Contract
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <!--div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div-->
</footer>
                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.footer", "toc.integrate", "search.highlight", "search.suggest", "content.code.annotate", "content.tooltips"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../javascripts/toc.js"></script>
      
        <script src="../../javascripts/nav-toc.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>